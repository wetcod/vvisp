const fs = require('fs');
const path = require('path');
const { execSync } = require('child_process');
const {
    getAllFiles,
    printOrSilent
} = require('@haechi-labs/vvisp-utils');
// const test = function(){
//     const { execSync } = require('child_process');
//     const command = `${__dirname}/../node_modules/.bin/solidity-coverage`;
//     execSync(command);
//   }
module.exports = function(files,options) {
  options = require('./utils/injectConfig')(options);

  /*fs.ensureDirSync(path.join('./', 'build'));
  fs.ensureDirSync(path.join('build', 'contracts'));

  if (files.length === 0) {
    files = getAllFiles(path.join('./', 'contracts'), filePath => {
      return path.parse(filePath).ext === '.sol';
    });
  }
  var ganache_port = 8545;
  var start_ganache = function(){
  var accounts = new Array(
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699972,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699973,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699974,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699975,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699976,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699977,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699978,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699979,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d69997a,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d69997b,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d69997c,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d69997e,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d69997f,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699981,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699982,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699983,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699984,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699985,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699986,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699987,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699988,1000000000000000000000000000",
    "0xb178cf12d4126ea1db48ca32e3ce6743580ca6646391996032fc76652d699989,1000000000000000000000000000"
  );

  //const exec = require('child_process').exec;
  //exec('testrpc --gasLimit 0xfffffffffff --port '+ganache_port);
  };
  */

  //const command = './node_modules/.bin/solidity-coverage';
  //execSync(command);
  const command = `${__dirname}/../node_modules/.bin/solidity-coverage`;
  execSync(command);
}